<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="assets/css/styles.css">

        <!-- =====BOX ICONS===== -->
        <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>

        <title data-i18n="title"></title>
    </head>
    <body>
        <!-- ===== LANGUAGE SWITCHER ===== -->
        <div class="language-switcher">
          <button onclick="setLanguage('en')">EN</button>
          <button onclick="setLanguage('fr')">FR</button>
        </div>

        <!--===== HEADER =====-->
        <header class="l-header">
            <nav class="nav bd-grid">
                <div>
                    <a href="#" class="nav__logo" data-i18n="logo"></a>
                </div>

                <div class="nav__menu" id="nav-menu">
                    <ul class="nav__list">
                        <li class="nav__item"><a href="#home" class="nav__link active-link" data-i18n="home">Home</a></li>
                        <li class="nav__item"><a href="#about" class="nav__link" data-i18n="about">About</a></li>
                        <li class="nav__item"><a href="#skills" class="nav__link" data-i18n="skills">Skills</a></li>
                        <li class="nav__item"><a href="#work" class="nav__link" data-i18n="work">Work</a></li>
                        <li class="nav__item"><a href="#contact" class="nav__link" data-i18n="contact">Contact</a></li>
                    </ul>
                </div>

                <div class="nav__toggle" id="nav-toggle">
                    <i class='bx bx-menu'></i>
                </div>
            </nav>
        </header>

        <main class="l-main">
            <!--===== HOME =====-->
            <section class="home bd-grid" id="home">
                <div class="home__data">
                    <h1 class="home__title" data-i18n="welcome"></h1>

                    <a href="#contact" class="button" data-i18n="contactButton">Contact</a>
                </div>

                <div class="home__social">
                    <a href="https://www.linkedin.com/in/juliadupin/" target="_blank" class="home__social-icon"><i class='bx bxl-linkedin'></i></a>
                    <a href="https://www.behance.net/juliadupin" target="_blank" class="home__social-icon"><i class='bx bxl-behance' ></i></a>
                    <a href="https://www.instagram.com/julia.dupin.design/" target="_blank" class="home__social-icon"><i class='bx bxl-instagram' ></i></a>
                </div>

                <div class="home__img">
                    <img src="assets/img/profile_pic_v2_purple.png?v=2" alt="Julia" class="home__img-img">
                </div>
            </section>

            <!--===== ABOUT =====-->
            <section class="about section " id="about">
                <h2 class="section-title" data-i18n="about"></h2>

                <div class="about__container bd-grid">                 
                    <div>
                        <h2 class="about__subtitle" data-i18n="aboutSubtitle"></h2>
                        <p class="about__text" data-i18n="aboutText"></p>         
                    </div>                                   
                </div>
            </section>

            <!--===== SKILLS =====-->
            <section class="skills section" id="skills">
                <h2 class="section-title" data-i18n="skills"></h2>

                <div class="skills__container bd-grid">          
                    <div>
                        <h2 class="skills__subtitle" data-i18n="skillsSubtitle"></h2>
                        <p class="skills__text" data-i18n="skillsText"></p>
                        <!-- Keep your skill items as they are -->
                    </div>
                    
                    <div>              
                        <img src="assets/img/work3.jpg" alt="" class="skills__img">
                    </div>
                </div>
            </section>

            <!--===== WORK =====-->
            <section class="work section" id="work">
                <h2 class="section-title" data-i18n="work"></h2>

                <div class="work__container bd-grid">
                    <div class="work__img">
                        <a href="idefix.html?v=1">
                            <img src="assets/img/idefix_behancecover_v1.png?v=2" alt="IDEFIX">
                        </a>
                    </div>
                    <div class="work__img">
                        <a href="greenhouse.html?v=1">
                            <img src="assets/img/AllPlants_v5_behancecover_small.png?v=2" alt="Serres de plantes carnivores">
                        </a>
                    </div>
                    <div class="work__img">
                        <a href="graines.html?v=1">
                            <img src="assets/img/graines_small.png?v=2" alt="Graines">
                        </a>
                    </div>
                    <div class="work__img">
                        <a href="fruitposter.html?v=1">
                            <img src="assets/img/fruit_poster_Poster-mockup_smaller.png?v=2" alt="Différents types de fruits">
                        </a>
                    </div>
                    <div class="work__img">
                        <a href="seeddispersal.html?v=1">
                            <img src="assets/img/dispersal_poster_coverimagebehance.png?v=2" alt="Modes de dispersions de graines">
                        </a>
                    </div>
                    <div class="work__img">
                        <a href="lard.html?v=1">
                            <img src="assets/img/lard_papermockup_cover.jpg?v=2" alt="LARD">
                        </a>
                    </div>
                    <div class="work__img">
                        <a href="unepatte.html?v=1">
                            <img src="assets/img/unepatte_g23.jpg?v=2" alt="Une patte pour l'avenir">
                        </a>
                    </div>
                    <div class="work__img">
                        <a href="flute.html?v=1">
                            <img src="assets/img/ecolemusique_flyerA5_v4_coverbehance.png?v=2" alt="La flute gazouillante">
                        </a>
                    </div>
                </div>
            </section>


            <!--===== CONTACT =====-->
            <section class="contact section" id="contact">
                <h2 class="section-title" data-i18n="contact"></h2>

                <div class="contact__container bd-grid">
                    <form id="contact-form" action="" class="contact__form">
                        <input type="text" name="user_name" placeholder="Name" class="contact__input" data-i18n-placeholder="labelName">
                        <input type="email" name="user_email" placeholder="Email" class="contact__input" data-i18n-placeholder="labelEmail">
                        <textarea name="message" cols="0" rows="10" class="contact__input" data-i18n-placeholder="labelMessage"></textarea>
                        <!-- Optional reCAPTCHA -->
                        <div class="g-recaptcha" 
                             data-sitekey="6LcKVsErAAAAAEkI23mAdjgRr8XZtYZYkIwBrlfl" 
                             data-callback="enableSubmit">
                        </div>
                        <input type="submit" value="Send" class="contact__button button" id="sendBtn" disabled>
                    </form>
                    <!-- In-page message -->
                    <div id="form-message" style="margin-top: 1rem; font-weight: bold; text-align: center;"></div>
                </div>
            </section>
        </main>

        <!--===== FOOTER =====-->
        <footer class="footer">
            <p class="footer__title" data-i18n="logo"></p>
            <div class="footer__social">
                <a href="https://www.linkedin.com/in/juliadupin/" target="_blank" class="footer__icon"><i class='bx bxl-linkedin'></i></a>
                <a href="https://www.behance.net/juliadupin" target="_blank" class="footer__icon"><i class='bx bxl-behance' ></i></a>
                <a href="https://www.instagram.com/julia.dupin.design/" target="_blank" class="footer__icon"><i class='bx bxl-instagram' ></i></a>
            </div>
        </footer>

        <!--===== SCROLL REVEAL =====-->
        <script src="https://unpkg.com/scrollreveal"></script>

        <!--===== MAIN JS =====-->
        <script src="assets/js/main.js"></script>

        <!--===== LANG JS =====-->
        <script src="assets/js/lang.js"></script>

        <!-- EmailJS SDK -->
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
        <script type="text/javascript">
            (function(){
            emailjs.init("Hu9DokggGM-vvJ3OL"); // EmailJS Public Key
            })();
        </script>

        <script>
          // Enable Send button after reCAPTCHA is solved
          function enableSubmit() {
            document.getElementById("sendBtn").disabled = false;
          }
        
          // Handle form submission
          document.getElementById("contact-form").addEventListener("submit", function(e){
            e.preventDefault(); // prevent page reload
        
            const formMessage = document.getElementById("form-message");
        
            emailjs.sendForm("service_ora95l9", "template_vogaj2a", this)
              .then(() => {
                formMessage.style.color = "green";
                formMessage.innerHTML = "✅ Merci ! Thank you!";
                this.reset(); // clear the form
                if (grecaptcha) grecaptcha.reset(); // reset reCAPTCHA if used
                document.getElementById("sendBtn").disabled = true; // disable until next reCAPTCHA
              })
              .catch((err) => {
                formMessage.style.color = "red";
                formMessage.innerHTML = "❌ Error. Merci de reessayer. Please try again later.";
                console.error("EmailJS error:", err);
              });
          });
        </script>
        <!-- Load the reCAPTCHA script -->
        <script>
          function loadRecaptcha(lang) {
            // Remove existing reCAPTCHA script if any
            const oldScript = document.querySelector('script[src*="recaptcha/api.js"]');
            if (oldScript) oldScript.remove();

            // Create new script element
            const script = document.createElement('script');
            script.src = `https://www.google.com/recaptcha/api.js?hl=${lang}`;
            script.async = true;
            script.defer = true;
            document.body.appendChild(script);
          }

          // Example: get the current language from your lang.js setup
          const currentLang = localStorage.getItem('lang') || 'en'; // adjust to your language storage
          loadRecaptcha(currentLang);

          // Optional: if your site allows switching language dynamically
          function onLanguageChange(newLang) {
            loadRecaptcha(newLang);
          }
        </script>
    </body>
</html>
